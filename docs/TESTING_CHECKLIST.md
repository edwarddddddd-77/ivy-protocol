# IVY Protocol 测试检查清单

## 测试环境
- **网络**: BSC Testnet
- **合约版本**: V2.2
- **IvyCore**: `0x44e402586776f6343fB733B7029A0389F1186E8C`
- **IvyBond**: `0x4301A2E67c800835BdBfF3cb385D3287Ac7B6B57`

---

## 1. Yield 页面

### 1.1 存款功能
- [ ] 输入 USDT 金额，显示预览信息（算力、分配比例）
- [ ] Approve USDT（首次需要授权）
- [ ] 存款成功，创建 Bond NFT
- [ ] 存款后显示正确的算力（50% of deposit）
- [ ] Genesis Node 持有者：算力显示 +10% 加成

### 1.2 挖矿奖励
- [ ] Pending IVY 实时增长
- [ ] Harvest 按钮可用（当有奖励时）
- [ ] Harvest 成功，IVY 进入 Vesting（30天）
- [ ] Vested IVY 显示正确

### 1.3 复投功能
- [ ] Compound Vested 按钮可用
- [ ] 选择 Bond NFT 进行复投
- [ ] 复投成功，算力增加（+10% 加成）
- [ ] IVY 被销毁

### 1.4 赎回功能
- [ ] Request Redeem 按钮可用
- [ ] 标准赎回：30天后可领取本金
- [ ] 即时赎回：扣除费用后立即领取

### 1.5 同步检测
- [ ] 合约升级后自动提示同步
- [ ] 点击 Sync Now 成功同步数据

---

## 2. Team 页面

### 2.1 推荐链接
- [ ] 显示正确的推荐链接
- [ ] 复制链接成功

### 2.2 统计卡片
- [ ] 直推人数正确
- [ ] 团队总人数正确
- [ ] 累计奖励正确（历史 + 待领）
- [ ] Genesis Node 状态正确
- [ ] 四个卡片大小一致

### 2.3 推荐奖励
- [ ] Pending Referral Rewards 实时显示
- [ ] 下级挖矿时，奖励实时增长
- [ ] Harvest Referral 成功
- [ ] Compound Referral 成功（+10% 加成）

### 2.4 直推列表
- [ ] 显示所有直推地址
- [ ] 显示正确的算力
- [ ] My Rewards 显示实时奖励
- [ ] 状态显示正确（Active/Inactive）

### 2.5 团队指标
- [ ] Total Bond Power 正确
- [ ] Active Members 正确
- [ ] Average Bond Power 正确

---

## 3. 排行榜

### 3.1 用户索引
- [ ] 自动从事件索引用户
- [ ] 显示索引的用户数量
- [ ] 刷新按钮工作正常

### 3.2 排名显示
- [ ] 排名按算力降序排列
- [ ] 当前用户高亮显示
- [ ] 显示正确的奖牌图标（前3名）
- [ ] 显示算力占比

### 3.3 我的排名
- [ ] 显示正确的排名
- [ ] 显示正确的算力
- [ ] 显示正确的占比

---

## 4. Genesis Node 页面

### 4.1 购买节点
- [ ] 显示节点价格
- [ ] 显示剩余数量
- [ ] Approve USDT
- [ ] 购买成功，获得 NFT

### 4.2 节点权益
- [ ] Self Boost: +10% 挖矿加成
- [ ] Team Aura: +2% 团队加成
- [ ] 显示推荐人数

---

## 5. 算力计算验证

### 5.1 存款算力
```
存款算力 = 存款金额 × 50%
例: 65,000 USDT → 32,500 算力
```

### 5.2 Genesis Node 加成
```
有效算力 = 存款算力 × (1 + 10%)
例: 32,500 × 1.1 = 35,750 算力
```

### 5.3 复投加成
```
复投算力 = IVY数量 × IVY价格 × 1.1
例: 300 IVY × $1 × 1.1 = 330 算力
```

### 5.4 最终算力
```
最终算力 = 存款算力 × (1 + Genesis加成) + 复投算力
例: 35,750 + 330 = 36,080 算力
```

---

## 6. 推荐奖励验证

| 层级 | 比例 | 说明 |
|------|------|------|
| L1 | 10% | 直推奖励 |
| L2 | 5% | 二级推荐 |
| L3+ | 2% | 团队奖励 |
| Peer | 0.5% | 同级奖励 |

---

## 7. 已知问题

记录测试中发现的问题：

| # | 描述 | 严重程度 | 状态 |
|---|------|----------|------|
| 1 | | | |
| 2 | | | |
| 3 | | | |

---

## 测试结果

- **测试日期**: ____________
- **测试人员**: ____________
- **通过项数**: ______ / ______
- **总体状态**: [ ] 通过 / [ ] 需修复
